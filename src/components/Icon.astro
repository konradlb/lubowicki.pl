---
import type { HTMLAttributes } from 'astro/types';
import { iconPaths } from './IconPaths';

interface Props extends HTMLAttributes<'svg'> {
	name: keyof typeof iconPaths;
	size?: number | string; // Default to 24, but allow different sizes
}

const { name, size = 24, class: className, ...rest } = Astro.props;
const iconPath = iconPaths[name];

// Ensure SVG attributes match the requirements
const defaultAttrs = {
    viewBox: "0 0 24 24",
    fill: "none",
    stroke: "currentColor",
    "stroke-width": "2",
    "aria-hidden": "true",
};

// Merge provided attributes with defaults
const svgAttrs = {
    ...defaultAttrs,
    ...rest,
    width: size,
    height: size,
    class: className,
};
---

<svg {...svgAttrs}>
  <Fragment set:html={iconPath} />
</svg>

<style>
  svg {
    vertical-align: middle;
    /* Optional: further styling if needed, but primary sizing handled by width/height props */
  }
</style>